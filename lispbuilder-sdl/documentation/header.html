<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  
  <head>
    <meta http-equiv="Content-Type" content="application/xhtml+xml; charset=iso-8859-1" />
    <title>~A - ~A</title>
    <style type="text/css">
      
      body {
      margin: 10px 20px 20px 220px;
      padding: 0px;
      font-family: Verdana, Geneva, Arial, Helvetica, sans-serif;
      font-size: small;
      text-align: justify;
      max-width: 50em;
      background-color: white;
      }
      
      a, a:visited {
      text-decoration: none;
      color: maroon;
      }
      
      /* index */
      
      div.index {
      position: fixed;
      top: 0px;
      left: 0px;
      width: 180px;
      height: 100%;
      margin: 0px;
      padding: 5px;
      font-size: 12px;
      background-color: #DCDCDC;
      border-right: thin black solid;
      }
      
      div.index ol {
      color: navy;
      margin: 0px;
      padding-left: 0px;
      }
      
      div.index ol li {
      list-style: none;
      }
      
      div.index ol li:before {
      display: marker;
      content: counter(heading1) ". ";
      counter-increment: heading1;
      }
      
      div.index ol ol {
      padding-left: 10px;
      font-size: 10px;
      list-style: none;
      counter-reset: heading2;
      }
      
      div.index ol ol li:before {
      display: marker;
      content: counter(heading1)"." counter(heading2)" ";
      counter-increment: heading2;
      }
      
      /* heading styles */
      
      body > h1 {
      margin-top: 0px;
      }
      
      h1 {
      margin-top: 40px;
      margin-bottom: 0px;
      color: #4682B4;
      }
      
      h1:before {
      display: marker;
      content: counter(chapter) ". ";
      counter-increment: chapter;
      counter-reset: section1;
      }
      
      h1 + p {
      margin-top: 5px;
      }
      
      h2 {
      margin-top: 20px;
      color: #000000;
      margin-bottom: 0px;
      }
      
      h2:before {
      display: marker;
      content: counter(chapter) "." counter(section1) "  ";
      counter-increment: section1;
      }
      
      h2 + p {
      margin-top: 0px;
      }
      
      h3 {
      margin-top: 20px;
      color: #000000;
      margin-bottom: 0px;
      }
      
      h3:before {
      display: marker;
      content: counter(chapter) "." counter(section1) "." counter(section2) "  ";
      counter-increment: section2;
      }
      
      h3 + p {
      margin-top: 0px;
      }
      
      h4 {
      margin-top: 20px;
      color: #000000;
      margin-bottom: 0px;
      }
      
      h4:before {
      display: marker;
      content: counter(chapter) "." counter(section1) "." counter(section2) "." counter(section3) "  ";
      counter-increment: section3;
      }
      
      h4 + p {
      margin-top: 0px;
      }
      
      /* generated content for images and tables */
      
      img:after {
      content: "[" counter(image) "] " attr(title);
      counter-increment: image;
      display: block;
      font-size: 10px;
      font-weight: bold;
      margin-top: 5px;
      margin-bottom: 20px;
      color: black;
      }
      
      table:after {
      content: "Table " counter(table) ": " attr(summary);
      counter-increment: table;
      display: table-caption;
      caption-side: bottom;
      font-size: 10px;
      font-weight: bold;
      margin-top: 5px;
      margin-bottom: 20px;
      white-space: nowrap;
      color: black;
      }
      
      /* code for examples, code and pathnames*/
      
      div.example table {
      color: black;
      }
      
      div.example, div.code, div.path, div.sequence {
      margin: 10px 0px;
      border: 1px black solid;
      padding: 10px;
      background-color: #F4F4F4;
      counter-reset: image;
      color: maroon;
      }
      
      div.example:before {
      content: "Example " counter(example);
      counter-increment: example;
      display: block;
      }
      
      div.example + p {
      margin-bottom: 0px;
      }
      
      div.code:before {
      content: "Code";
      }
      
      div.path:before {
      content: "Path";
      }
      
      div.sequence:before {
      content: "Sequence";
      }
      
      p.reference:before {
      display: marker;
      content: "[" counter(reference) "]";
      counter-increment: reference;
      font-weight: bold;
      margin-right: 5px;
      }
      
      div.code:before, div.example:before, div.path:before, div.sequence:before {
      font-weight: bold;
      font-size: 15px;
      margin-bottom: 20px;
      color: black;
      }
      
      pre {
      color: Green;
      margin: 0px;
      padding: 0px;
      }
      
      
      /* equation counter */
      
      e:after {
      content: "[" counter(equation) "]";
      counter-increment: equation;
      display: block;
      float: right;
      margin-right: 10px;
      }
      
      /* to prevent the CC image from being numbered */
      
      img[alt="Creative Commons License"] {
      display: inline;
      }
      
      img[alt="Creative Commons License"]:after {
      display: none;
      }
      
      div#cc {
      background-color: #DCDCDC;
      border: thin black solid;
      padding: 10px;
      font-size: 10px;
      }

      /* Table Design */
      /* http://www.duoh.com/csstutorials/csstables/ */
      #mytable {
      width: 700px;
      padding: 0;
      margin: 0;
      }
      
      caption {
      padding: 0 0 5px 0;
      width: 700px;	 
      font: italic 11px "Trebuchet MS", Verdana, Arial, Helvetica, sans-serif;
      text-align: right;
      }
      
      th {
      font: bold 11px "Trebuchet MS", Verdana, Arial, Helvetica, sans-serif;
      color: #4f6b72;
      border-right: 1px solid #C1DAD7;
      border-bottom: 1px solid #C1DAD7;
      border-top: 1px solid #C1DAD7;
      letter-spacing: 2px;
      text-transform: uppercase;
      text-align: left;
      padding: 6px 6px 6px 12px;
      background: #CAE8EA url(images/bg_header.jpg) no-repeat;
      }
      
      th.nobg {
      border-top: 0;
      border-left: 0;
      border-right: 1px solid #C1DAD7;
      background: none;
      }
      
      td {
      border-right: 1px solid #C1DAD7;
      border-bottom: 1px solid #C1DAD7;
      background: #fff;
      padding: 6px 6px 6px 12px;
      color: #4f6b72;
      }
      
      
      td.alt {
      background: #F5FAFA;
      color: #797268;
      }
      
      th.spec {
      border-left: 1px solid #C1DAD7;
      border-top: 0;
      background: #fff url(images/bullet1.gif) no-repeat;
      font: bold 10px "Trebuchet MS", Verdana, Arial, Helvetica, sans-serif;
      }
      
      th.specalt {
      border-left: 1px solid #C1DAD7;
      border-top: 0;
      background: #f5fafa url(images/bullet2.gif) no-repeat;
      font: bold 10px "Trebuchet MS", Verdana, Arial, Helvetica, sans-serif;
      color: #797268;
      }
      
    </style>
  </head>
  
  <!--
      (CC) 2003 Luke Crook. Some Rights Reserved.
      http://creativecommons.org/licenses/by/1.0
      This page is licensed under a Creative Commons License.
      
      Maintained by the Common Lisp Application Builder project at www.lispbuilder.org
      
      The entire styleguide was copied wholesale from http://www.markschenk.com/cssexp/publication/article.xml
      
      (CC) 2003 Mark Schenk. Some Rights Reserved.
      http://creativecommons.org/licenses/by/1.0
      This page is licensed under a Creative Commons License.
    -->
  
  <BODY BGCOLOR=#FFFFFF >
    
    <h1><a name="top" class=none> ~2:*~A - ~A</a></h1>
    
    <blockquote>
      <br>&nbsp;</br><h2><a name=abstract class=abstract>Abstract</a></h2>
      
      <p>
	LISPBUILDER-SDL comprises a set of packages allowing cross-platform game development using Common Lisp. 
	LISPBUILDER-SDL provides a set of bindings and Lispy abstractions for  
	<a href="http://www.libsdl.org">SDL</a> and other game-related graphics, sound, 
	physics, character animation and 3D libraries. LISPBUILDER-SDL core functionality includes 
	window and event management, 2D graphics, 3D graphics using OpenGL and sound support.
	The goal for the LISPBUILDER-SDL project is to become a useful resource for the development of games in Lisp.
      </p>

      <p>
	<a href="http://www.libsdl.org">SDL</a> provides the low-level 2D rendering support.
	LISPBUILDER-SDL adds more sophisticated 2D graphical effects such as rotation, 
	rendering circles, polygons, squares, Bezier and Cuttmull-Rom curves as well as bitmap font support.
	Additional packages provide native C drawing functions, True Type font rendering, 
	loading of multiple image formats, a sound mixer and networking support.
	The lispbuilder packages are meant to work together with each package providing a specific core set of 
	functionality. For example, an image that is loaded by lispbuilder-sdl-image may be rotated using 
	lispbuilder-sdl-gfx. Text may be rendered to a surface using lispbuilder-sdl-ttf and finally blitted to
	the display using lispbuilder-sdl.
      </p>
      <ul>
	<li><a href="lispbuilder-sdl-gfx.html" title="lispbuilder-sdl-gfx">lispbuilder-sdl-gfx</a>: 
	  2D graphical effects such as zooming, rotation, circles, polygons and squares,  using 
	  <a href="http://www.ferzkopp.net/Software/SDL_gfx-2.0/" title="http://www.ferzkopp.net/Software/SDL_gfx-2.0/"  rel="nofollow">SDL_gfx</a></li>
	<li> <a href="lispbuilder-sdl-image.html" title="lispbuilder-sdl-image">lispbuilder-sdl-image</a>: 
	  Support for multople image formats such as <acronym title="Portable Network Graphics">PNG</acronym> and 
	  <acronym title="Joint Photographics Experts Group">JPG</acronym>, 
	  using <a href="http://www.libsdl.org/projects/SDL_image/" title="http://www.libsdl.org/projects/SDL_image/"  rel="nofollow">SDL_image</a></li>
	<li>lispbuilder-sdl-mixer: Sound mixing, using 
	  <a href="http://www.libsdl.org/projects/SDL_mixer/" title="http://www.libsdl.org/projects/SDL_mixer/"  rel="nofollow">SDL_mixer</a> 
	  a multi-channel audio mixer library</li>
	<li><a href="lispbuilder-sdl-ttf.html" title="lispbuilder-sdl-ttf">lispbuilder-sdl-ttf</a>: 
	  True-type font rendering, using 
	  <a href="http://www.libsdl.org/projects/SDL_ttf/" title="http://www.libsdl.org/projects/SDL_ttf/"  rel="nofollow">SDL_ttf</a></li>
	<li>lispbuilder-sdl-net: Networking, using 
	  <a href="http://www.libsdl.org" title="http://www.libsdl.org"  rel="nofollow">SDL_net</a> 
	  a cross-platform, blocking network library</li>
      </ul>
      <p>
	<font color=red>Current Version:</font> The current version of LISPBUILDER-SDL is version 
	<a href="#downloads">0.2</a>.
      </p>
<!--       <p> -->
<!-- 	<font color=red>Download shortcut:</font> <a href="http://www.balooga.com/lispbuilder/~A.zip">http://www.balooga.com/lispbuilder/~:*~A.zip</a>. -->
<!--       </p> -->
    </blockquote>

    <br>&nbsp;</br><h2><a class=none name="examplesimple">Simple Example</a></h2>
    <div class="example">
      <p>
	This example was created with the following code:
      </p>
      <p>
	<img src="sdl-alien.png" width="200" height="167" title="Alien Technology" alt="Alien Technology"/>
      </p>
      
      <pre>
	(sdl:with-init ()
	(sdl:window 320 240)
	(sdl:draw-surface (load-image "lisp.bmp"))
	(sdl:update-display)
	(sdl:with-events ()
        (:quit-event () t)
        (:video-expose-event (sdl:update-display))))
      </pre>
    </div>
    
    <div class="index">
      <ol>
	<li><a href="#top">LISPBUILDER-SDL</a></li>
	<ol>
	  <li><a href="#abstract">Abstract</a></li>
	  <li><a href="#packageover">Package Overview</a></li>
	  <li><a href="#examplesimple">Simple Example</a></li>
	  <li><a href="#compatibility">Compatibility</a></li>
	  <li><a href="#downloads">Downloads</a></li>
	  <li><a href="#installation">Installation</a></li>
	  <li><a href="#usage">Usage</a></li>
	  <li><a href="#examples">Examples</a></li>
	  <li><a href="#dependency">Dependencies</a></li>
	  <li><a href="#license">License</a></li>
	  <li><a href="#dictionar">LISPBUILDER-SDL dictionary</a></li>
	  <ol>
	    <li><a href="#dictionary">INDEX</a></li>
	  </ol>
	  <li><a href="#ack">Acknowledgements</a></li>
	</ol>
      </div>
      
      
      <br>&nbsp;</br><h2><a class=none name="compatibility">Compatibility</h2>
	<p>
	  The following table describes the status of LISPBUILDER-SDL on the major Common Lisp
	  implementations:
	</p>
	
	<table id="mytable" cellspacing="0" summary="Compatibility"> 
	  <tr>
	    <th><b>Lisp Implementation</b></th>
	    <th colspan="3"><b>LISPBUILDER-SDL Status</b></th>
	    <th><b>Comments</b></th>
	  </tr>	
	  <tr>
	    <th colspan="1"></th>
	    <th><b>Win32</b></th>
	    <th><b>Linux</b></th>
	    <th><b>MacOS</b></th>
	    <th></th>
	  </tr>
	  <tr>
	    <th class="spec" scope="row">
	      <a href="http://clisp.cons.org/">CLISP v2.38</a>
	    </th>
	    <td bgcolor="#60c060">Working</td>
	    <td bgcolor="#60c060">Working</td>
	    <td bgcolor="#60c060">Working</td>
	    <td></td>
	  </tr>
	  <tr>
	    <th class="specalt" scope="row">
	      <a href="http://www.lispworks.com/">Lispworks v4.4.6 Personal</a>
	    </th>
	    <td class="alt" bgcolor="#60c060">Working</td>
	    <td class="alt" bgcolor="#60c060">Working</td>
	    <td class="alt" bgcolor="#60c060">Working</td>
	    <td></td>
	  </tr>
	  <tr>
	    <th class="spec" scope="row">
	      <a href="http://www.franz.com/">Allegro Express 8.0</a>
	    </th>
	    <td bgcolor="#ff6060">Unknown</td>
	    <td bgcolor="#60c060">Working</td>
	    <td bgcolor="#ff6060">Unknown</td>
	    <td></td>
	  </tr>
	  <tr>
	    <th class="specalt" scope="row">
	      <a href="http://openmcl.clozure.com/">OpenMCL</a>
	    </th>
	    <td class="alt" bgcolor=blue><font color="#FFFFFF">NA</font></td>
	    <td class="alt" bgcolor=blue><font color="#FFFFFF">NA</font></td>
	    <td class="alt" bgcolor="#ff6060">Unknown</td>
	    <td></td>
	  </tr>
	  <tr>
	    <th class="spec" scope="row">
	      <a href="http://www.sbcl.org/">SBCL</a>
	    </th>
	    <td bgcolor="#60c060">Working</td>
	    <td bgcolor="#60c060">Working</td>
	    <td bgcolor="#ff6060">Unknown</td>
	    <td></td>
	  </tr>
	</table>
	
	
	<br>&nbsp;</br><h2><a class=none name="downloads">Downloads</a></h2>
	<p>See <a href="http://lispbuilder.sourceforge.net/index.html#downloads">the LISPBUILDER documentation</a>
	  for downloads.
	</p>
	

	<br>&nbsp;</br><h2><a class=none name="installation">Installation</a></h2>
	<p>See <a href="http://lispbuilder.sourceforge.net/index.html#installation">the LISPBUILDER documentation</a>
	  for installation instructions.
	</p>
	
	<br>&nbsp;</br><h2><a class=none name="usage">Using LISPBUILDER-SDL</a></h2>
	<p>
	  Enter the following at the REPL to compile and load the LISPBUILDER-SDL package:
	  <pre>(asdf:operate 'asdf:load-op :lispbuilder-sdl)</pre>
	  
	  ASDF will take care of loading the CFFI and :LISPBUILDER-SDL dependencies. 
	  The SDL.dll library will also be loaded into the Lisp image at this time.
	</p>
	
	<br>&nbsp;</br><h2><a class=none name="examples">Running the Included Examples</a></h2>
	<p>Enter the following at the REPL to compile and load the examples included in the 
	  LISPBUILDER-SDL-EXAMPLES package:</p>
	<pre>
	  (asdf:operate 'asdf:load-op :lispbuilder-sdl-examples)
	</pre>
	<p>Run the examples by entering any of the following at the REPL:
	</p>
	<pre>
	  (SDL-GFX-EXAMPLES:BEZIER)
	  (SDL-GFX-EXAMPLES:BMP-SAMPLE)
	  (SDL-GFX-EXAMPLES:CIRCLE-1)
	  (SDL-GFX-EXAMPLES:CIRCLE-2)
	  (SDL-GFX-EXAMPLES:CIRCLE-3)
	  (SDL-GFX-EXAMPLES:CIRCLE-4)
	  (SDL-GFX-EXAMPLES:CIRCLE-5)
	  (SDL-GFX-EXAMPLES:DISTANCE-2D)
	  (SDL-GFX-EXAMPLES:FLOOD-FILL)
	  (SDL-GFX-EXAMPLES:INBUILT-FONTS)
	  (SDL-GFX-EXAMPLES:LINE-DRAWING)
	  (SDL-GFX-EXAMPLES:MANDELBROT)
	  (SDL-GFX-EXAMPLES:METABALLS)
	  (SDL-GFX-EXAMPLES:MOUSE-2D)
	  (SDL-GFX-EXAMPLES:MOUSE-PAINTER)
	  (SDL-GFX-EXAMPLES:PIXELS)
	  (SDL-GFX-EXAMPLES:POINTS-AND-LINES)
	  (SDL-GFX-EXAMPLES:RANDOM-RECTS)
	  (SDL-GFX-EXAMPLES:RANDOM-BOX-1)
	  (SDL-GFX-EXAMPLES:RANDOM-BOX-2)
	  (SDL-GFX-EXAMPLES:RANDOM-BOX-3)
	  (SDL-GFX-EXAMPLES:RANDOM-BOX-4)
	  (SDL-GFX-EXAMPLES:RECURSIVE-RECTS)
	  (SDL-GFX-EXAMPLES:SETUP-AND-DRAW)
	  (SDL-GFX-EXAMPLES:SIMPLE-FONT-DEMO)
	  (SDL-GFX-EXAMPLES:STROKE)
	  (SDL-GFX-EXAMPLES:VERTICES)
	  (SDL-GFX-EXAMPLES:WIDTH-HEIGHT)
	</pre>
	

	<br>&nbsp;</br><h2><a class=none name="dependency">Dependencies</a></h2>
	<p>None.</p>
	
	
	<br>&nbsp;</br><h2><a class=none name="license">License</a></h2>
	<p>
	  LISPBUILDER-SDL is distributed under the 
	  <a href="http://en.wikipedia.org/wiki/MIT_License">MIT-style license</a>.
	</p>
	
	<br>&nbsp;</br><h2><a class=none name="packageover">Package Overview</a></h2>
	<h3><a class=none name="packageexports">Package Exports</a></h3>
	<p>
	  Functions and symbols exported from the LISPBUILDER-SDL package are 
	  accessible from the <code>LISPBUILDER-SDL:</code> prefix or the 
	  shorter form <code>SDL:</code> nickname.
	</p>
	
	<h3><a class=none name="packagestruct">Package Structure, a 10,000 Foot View</a></h3>
	<p>
	  The <code>cffi/</code> directory contains the raw CFFI bindings. 
	  These bindings may be automatically generated by <a href="http://www.swig.org">SWIG</a> or created by hand.
	  CFFI translation functions perform simple low-level conversions for example, 
	  converting Lisp strings to C strings and back (see <code>cffi-translate.lisp</code>). 
	  All functions in <code>cffi/</code> accept and return foreign objects only.
	</p>
	<p>
	  The <code>base/</code> directory defines wrappers over the functions in <code>cffi/</code> . 
	  The functions in <code>base/</code> accept keyword arguments and accept NIL instead
	  of CFFI:NULL-POINTER where appropriate. Generally functions in <code>base/</code> accept and return foreign
	  objects. <code>base/</code> may perform some type checks (IS-VALID-PTR SURFACE) but
	  this layer is meant to be lean. Someone who implements a graphics engine
	  might use this layer instead of <code>sdl/</code> if speed is a concern.
	  There are no fancy drawing primitives in this layer.
	</p>
	<p>
	  The <code>sdl/</code> directory defines the abstractions over <code>cffi/</code> and <code>base/</code>. 
	  Foreign objects are passed around <code>sdl/</code> neatly wrapped in CLOS objects, using TRIVIAL-GARBAGE for
	  automatic garbage collection (minimize foreign objects being left on the
	  heap). There are no functions in <code>sdl/</code> that accept or return foreign
	  objects (with the exception of the functions that create the CLOS
	  wrapper objects) Functions in <code>sdl/</code> call down into
	  <code>cffi/</code> and <code>base/</code> as appropriate. All LISPBUILDER-SDL symbols available in
	  <code>SDL:</code> are exported from <code>sdl/</code>, with symbols imported into <code>sdl/</code> from 
	  <code>cffi/</code> and <code>base/</code> as appropriate (e.g. WITH-EVENTS). All drawing primitives are
	  defined in this layer; circles, rectangles, lines, triangles, with-bezier etc. 
	  Functions in <code>sdl/</code> implement a lot of type checking.
	</p>
	<p>
	  An example of the difference between <code>base/</code> and <code>sdl/</code> is
	  WITH-RECTANGLE. The WITH-RECTANGLE macro in <code>base/</code> creates and destroys a foreign
	  SDL_Rect. The WITH-RECTANGLE macro in <code>sdl/</code> will create and destroy
	  a RECTANGLE object.
	</p>
	

	<br>&nbsp;</br><h2><a class=none name="dictionary">The ~A dictionary Index</h2>
	  <ol>
	    ~{      <li><a href="#~A"><code>~:*~A</code></a>
	      ~}    
	    </li>
	  </ol>
      
	  
	  
	  
	  <br>&nbsp;</br><h2><a class=none name="dictionar">The ~A dictionary</a></h2>
	  
	
	
